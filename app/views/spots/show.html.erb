<div class="spot-page">
  <script src="//maps.google.com/maps/api/js?key=AIzaSyAd5nFl1q5g909CfNQ6y3PXy5VPJsNOxr4"></script>
  <script src="//cdn.rawgit.com/mahnunchik/markerclustererplus/master/dist/markerclusterer.min.js"></script>
  <script src='//cdn.rawgit.com/printercu/google-maps-utility-library-v3-read-only/master/infobox/src/infobox_packed.js' type='text/javascript'></script> <!-- only if you need custom infoboxes -->

  <div class="page-header text-center">
    <h1><%= @spot.title %></h1>
    <%= link_to spots_path, class: 'button' do %>
      <i class="fa fa-arrow-left" aria-hidden="true"></i>
      Back
    <% end %>
    <%= link_to edit_spot_path(@spot), class: 'button' do %>
      <i class="fa fa-pencil" aria-hidden="true"></i>
      Edit
    <% end %>
  </div>

  <div class="row">
  <dl class="dl-horizontal medium-6 columns">
    <dt>Address:</dt>
    <dd><%= @spot.address %></dd>

    <dt>Time limit:</dt>
    <dd><%= @spot.time_limit %></dd>

    <dt>Created:</dt>
    <dd><%= @spot.created_at %></dd>
  </dl>

  <div class="spot-comments medium-4 columns">
    <h4>Comments</h4>
      <div id="comments">
        <%= render :partial => @spot.comments %>
      </div>
        <%= form_for [@spot, Comment.new] do |f| %>
          <div class="col-sm-10">
          <%= f.text_field :body, class: "form-control" %>
        </div>
          <p><%= f.submit "Add Comment", class: "button" %></p>
        <% end %>
  </div>
</div>

      <div class="flex-video">
        <div id="map" style='max-width: 500px; height: 300px;'></div>

        <script type="text/javascript">
          handler = Gmaps.build('Google');
          handler.buildMap({ provider: {}, internal: {id: 'map'}}, function(){
            markers = handler.addMarkers(<%=raw @hash.to_json %>);
            handler.bounds.extendWith(markers);
            handler.fitMapToBounds();
          });
        </script>
      </div>
    </div>
</div>
